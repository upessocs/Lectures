# Experiment 0: Guidelines for Linux Lab Report Submission

**Course:** Linux Shell Scripting Lab
**Objective:** To learn the correct method for preparing and submitting lab reports. This ensures you have performed the practical work yourself and allows for efficient grading.

## 1. Introduction

Welcome to the Linux Shell Scripting lab. The purpose of these labs is to build hands-on, practical skills. To verify your participation and understanding, you are required to submit a report for each experiment.

This experiment (Experiment 0) will guide you on **how** to create and submit these reports. You will be using the `script` command to record your work and the Markdown format (`.md` files) to present it.

## 2. Why Markdown and Not Screenshots?

Using Markdown files over screenshots is a requirement for this course. The reasons are:

*   **Authenticity:** It is very difficult to fake a terminal session recorded by the `script` command. Screenshots can be easily edited or shared.
*   **Understanding:** You must explain your process, which proves you understood the task, rather than just copying commands.
*   **Professionalism:** Markdown is the standard for documentation on platforms like GitHub and GitLab. Learning it is a valuable skill.
*   **Efficiency:** Text-based reports are easier for the instructor to review, grade, and provide feedback on.

## 3. Step-by-Step Procedure

### **Step 1: Record Your Session with `script`**

1.  Open your terminal at the **beginning** of your lab session.
2.  Start a recording session by typing:
   

```bash
script -a lab_session_[EXPERIMENT_NUMBER].md
```
    **Example:**

```bash
script -a lab_session_1.md
```

    *   The `-a` flag means "append". This allows you to start and stop the script command without losing previous work.
    *   Everything you type and everything the terminal outputs from now on will be saved to this file.

1.  **Perform all the lab exercises** as you normally would.

2.  When you have completed **all** tasks, type `exit` to stop the recording.
   

```bash
exit
```
    This will save the session log and return you to your normal shell.

### **Step 2: Create Your Formal Lab Report**

The raw `script` output is messy. You must now create a clean, well-structured report using the template below.

1.  Open a text editor (e.g., `nano`, `vim`, `gedit`, or VSCode).
2.  Create a new file named `lab_report_[EXPERIMENT_NUMBER].md`.
3.  Use the following template to structure your report.

---

## **Lab Report Template**

Copy and use this template for every submission.


<h2>Experiment [X]: [Experiment Title]</h2><p><strong>Name:</strong> Your Name
<strong>Roll No.:</strong> Your Roll Number
<strong>Date:</strong> YYYY-MM-DD</p><h3>Aim</h3><p>[Write a brief statement about the purpose of the experiment. For example: "To understand and implement the use of for and while loops in shell scripting."]</p><h3>Requirements</h3><p>[List any software, tools, or pre-requisites needed. For example: "A Linux machine with bash shell."]</p><h3>Theory</h3><p>[Provide a 2-3 line brief theoretical background of the concept being tested. This shows you understand the 'why' behind the exercise.]</p><h3>Procedure & Observations</h3><h4>Exercise 1: [Task Name]</h4><p><strong>Task Statement:</strong> [Paste the exact task given in the lab manual here.]</p><p><strong>Explanation:</strong> [In your own words, explain the approach you took to solve the task. What command did you use and why?]</p><p><strong>Command(s):</strong></p><pre><code class="bash, language-bash,code-block">[Paste the final, correct command or script you wrote here.]
</code></pre>


<p><strong>Output:</strong></p><pre><code class=", language-,code-block">[Paste the exact output generated by your command here.]
</code></pre>


<h4>Exercise 2: [Task Name]</h4><p><strong>Task Statement:</strong> [Paste the task given in the lab manual.]</p><p><strong>Explanation:</strong> [Explain your approach.]</p><p><strong>Command(s):</strong></p><pre><code class="bash, language-bash,code-block">[Paste your command/script here.]
</code></pre>


<p><strong>Output:</strong></p><pre><code class=", language-,code-block">[Paste your output here.]
</code></pre>
<p>[Repeat the structure for all exercises.]</p><h3>Result</h3><p>[State the final outcome of the experiment. For example: "The exercises were successfully completed. The for and while loops were implemented to iterate through lists and conditions."]</p><h3>Challenges Faced & Learning Outcomes</h3><ul><li><strong>Challenge 1:</strong> [Describe any error you encountered and how you fixed it. For example: "The loop was running infinitely because the condition was incorrect. I fixed it by updating the variable inside the loop."]</li><li><strong>Challenge 2:</strong> [Another challenge, if any.]</li><li><strong>Learning:</strong> [What new concept or command did you learn?]</li></ul>

<h3>Conclusion</h3><p>[Write a brief summary of what you accomplished in the lab and how it connects to the course concepts.]</p>



---

## 4. Submission Instructions

For every lab, you will submit **two files**:

1.  **The Formal Report:** Your cleaned-up, well-formatted file following the template.
    *   **Filename:** `[Your_Roll_Number]_Exp_[X]_Report.md`
    *   Example: `B07XX123_Exp_1_Report.md`

2.  **The Script Log as Proof:** The original, raw output file generated by the `script` command.
    *   **Filename:** `[Your_Roll_Number]_Exp_[X]_ScriptLog.log`
    *   Example: `B07XX123_Exp_1_ScriptLog.log`

    > extension can be .log or .text for script output

**Submit both files to the assigned platform (e.g., LMS, Google Classroom) by the deadline.** The log file will be used to verify the work in your formal report.




## 5. Markdown Quick Reference

- [markdown/syntax](https://daringfireball.net/projects/markdown/syntax)

Use this simple guide to format your text:

```markdown
# Main Title (H1)
## Section Heading (H2)
### Subsection Heading (H3)

*Italic* or _Italic_
**Bold** or __Bold__

* Bullet list item
* Another item

1. Numbered list
2. Second item

`single_line command` for inline code.

```bash
# For code blocks
echo "Hello, World!"
ls -l
```

[Link Text](https://example.com)
```


---
# Cleaning output 
as it contains non ascii control characters and escape sequence,

You're dealing with the control characters and escape sequences that `script` adds. Here are several ways to clean up the output for markdown:

## 1. Using `sed` to remove control characters

```bash
# Basic cleanup - remove most control characters
sed 's/\x1b\[[0-9;]*[a-zA-Z]//g; s/\x0d//g; s/\x1b\]0;//g' file.txt > clean_output.txt

# More comprehensive version
sed -e 's/\x1b\[[0-9;]*m//g' -e 's/\x1b\[[0-9;]*[a-zA-Z]//g' -e 's/\x0d//g' file.txt > clean_output.txt
```

## 2. Using `awk` for more control

```bash
# Remove ANSI escape sequences and carriage returns
awk '{gsub(/\033\[[0-9;]*m/,""); gsub(/\033\[[0-9;]*[a-zA-Z]/,""); gsub(/\r/,""); print}' file.txt > clean_output.txt
```

## 3. Using `grep` to extract specific content

```bash
# Extract only lines that look like commands or output
grep -E '^(# Command:|# Output:|# Exit status:|$|[^#])' file.txt > clean_output.txt

# Or remove all script-generated timestamps and control chars
grep -v '^Script started\|^Script done' file.txt | sed 's/\x1b\[[0-9;]*m//g' > clean_output.txt
```

## 4. Complete cleanup script

Create a script called `clean_script_output.sh`:

```bash
#!/bin/bash

input_file="$1"
output_file="${input_file%.*}_clean.txt"

# Remove ANSI escape sequences, carriage returns, and script metadata
sed -e 's/\x1b\[[0-9;]*m//g' \
    -e 's/\x1b\[[0-9;]*[a-zA-Z]//g' \
    -e 's/\x0d//g' \
    -e '/^Script started\|^Script done/d' \
    -e 's/^# Command: //' \
    -e 's/^# Output: //' \
    -e 's/^# Exit status: //' \
    "$input_file" > "$output_file"

echo "Cleaned output saved to: $output_file"
```

Usage:
```bash
chmod +x clean_script_output.sh
./clean_script_output.sh file.txt
```

## 5. Alternative: Use `script` with better options

```bash
# Use script with timing but without control characters
script -q -t 2>timing.txt -a file.txt

# Or use unbuffer for cleaner output
unbuffer your-command | tee file.txt
```

## 6. For markdown formatting

After cleaning, you can further process for markdown:

```bash
# Add bash code blocks around commands
awk '
BEGIN {print "```bash"}
/^\$ / {print substr($0, 3); next}
/^[^$]/ {if (!output_started) {print "```\nOutput:"; output_started=1} print}
END {if (output_started) print "```"}
' clean_output.txt > markdown_ready.txt
```

## Example Usage:

```bash
# Record session
script -a mysession.txt

# Run some commands
$ ls -la
$ echo "Hello World"
$ exit
```


# Clean the output
`./clean_script_output.sh mysession.txt`

The cleaned file will be ready for markdown:

# ```bash
# ls -la
# ```
```output
# Output:
# total 24
# drwxr-xr-x  2 user user 4096 Dec 1 10:00 .
# drwxr-xr-x 10 user user 4096 Dec 1 10:00 ..
# -rw-r--r--  1 user user   12 Dec 1 10:00 file.txt
```


```bash
echo "Hello World"
# Output:
# Hello World
```

The `sed` approach is usually the most effective for removing ANSI escape sequences and control characters that `script` adds to the output.


---

# converting markdown to docx using pandoc

```bash
# install pandoc

sudo apt install pandoc -y

pandoc -v

# to convert a markdownfile.md to exp1.docx
# extension are important

pandoc markdownfile.md -o exp1.docx

# you can pass stantalone option, see pandoc --help for more detail


```